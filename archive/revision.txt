https://fire.st/eKz6bAA
MlibSample 1.0.0_beta_08
・ゾンビ退治
・（一緒にメモリリーク直ったかも？）
・中ボタンでのカメラの動き修正

https://fire.st/z2y6tEu
MlibSample 1.0.0_beta_09
・物理デバッグ時に二重にバインドしていたのを修正
    ・一時停止してから再開したときの描画がダブる事もなくなった
    ・メモリリークの原因？
・モーションなしで読み込んだ時に落ちるのを修正

https://fire.st/EPU7lAw
MlibSample 1.0.0_beta_10
・物理デバッグ時のVAOとVBOの生成をデバッガー初期化時に限定（後は使い回す）

https://fire.st/oTXaOYY
MlibSample 1.0.0_beta_11
・物理ON/OFF機能追加
　・フォローなし … フラグONOFFのみ
　・行列更新　　 … 物理OFF→ONにした時に剛体の位置再計算を行う
　・State初期化　… 物理OFF→ONにした時にMotionState再生成（時々物理がピクつく）
　・行列更新・State初期化　…　両方対応

https://fire.st/aZwahtw
MlibSample 1.0.0_beta_12
・物理ON/OFF機能
　・フラグONOFF＋フラグを切り替えた直後に剛体の位置再計算を行う

https://fire.st/bnz4qv4
MlibSample 1.0.0_beta_13
・物理リセット機能追加
・モデル描画ボタン押下時に物理情報をクリアするよう修正
・IKループ回数が0指定の時、1回だけ回すよう調整

https://fire.st/ZcZEDgM
MlibSample 1.0.0_beta_14
・フレームスキップOFFモード追加
　・チェックボックスは「フレームドロップON」で、デフォルトON

https://fire.st/eVxtgI3
MlibSample 1.0.0_beta_15
・画面レイアウト調整
　・表示デバッグ系はメニューに
　・プレイヤーをコンポーネント化
・ファイルピッカーのD&D有効化

https://fire.st/vuhu3Ag
MlibSample 1.0.0_beta_16
・再生中にPMXを変えた時に落ちるのを修正
・ボーンデバッグ色定義定数化
・描画ウィンドウをリサイズ可能に
・コンソール出力対応
・多言語対応

MlibSample 1.0.0_beta_17
・使い方メニュー追加
・プレイヤーの再生/一時停止時の処理の流れ調整
・ログ周り整理
・改行が文字列内にある場合、コンソール内で改行が行われるよう置換する
・コンソールの出力文字数上限UP

MlibSample 1.0.0_beta_18
・予期せぬエラー時のダイアログ追加
・モーフ描画追加
　・頂点、UV、ボーンモーフまで
　・材質モーフは材質の半透明描画が変

MlibSample 1.0.0_beta_19
・メインビューウィンドウを閉じた場合、アプリを終了するよう修正
・PMX、VMDの読み込みエラー時のログをINFOに変更
・材質のテクスチャで半透明が暗くなっていたのを RGBA → NRGBA に変更して修正
・フラグメントシェーダーでアルファが非常に小さいときに描画をスキップするよう修正

MlibSample 1.0.0_beta_20
・起動直後にモデルを読み込まないでビューウィンドウを閉じた時にメイン画面が閉じれてなかったのを修正
・Radeonで描画ループ中にウィンドウを閉じた時にエラーになるのを回避（したつもり）

MlibSample 1.0.0_beta_21
・冗長ログで描画ループ時にOpenのエラーコードを出力追加
・予期せぬエラーダイアログにOpenGLのエラーコードを出力追加

MlibSample 1.0.0_beta_22
・UVモーフのY向き修正
・ハイスペックモード追加
　・ONにすると、CPU数/2の数だけ並列化ブロック生成
・リファクタリング

MlibSample 1.0.0_beta_23
・光源の修正
・メニューの下記値を次回起動時に引き継ぐよう機能追加
　物理ON/OFF、ハイスペックモード

MlibSample 1.0.0_beta_24
・リファクタリングを撤回
・UVモーフのY向き修正
・光源の修正
・IK計算見直し
  ・冗長ログをONにしたときに、IK計算ログとIKデバッグ用モーションを出力するよう機能追加
  ※最初に再生してから冗長ログをONにしてください。逆だと読み込みに時間がエラいかかる…
    モデルのファイルパス以下に IK_stepってフォルダを作成して、そこに出力

MlibSample 1.0.0_beta_25
・DDS画像のデコード処理追加
・物理演算パラ調整
・親からの相対位置行列を求める時に親が無い場合に原点を渡していたのを、自分の位置を渡すよう修正

MlibSample 1.0.0_beta_26
・IK計算見直し
  ・白ワンピミクで足首がぐねりやすかったので、ジンバルロックの閾値を88.0に戻したら直った

MlibSample 1.0.0_beta_27
・IK計算見直し
  ・リンクボーンに軸制限ある場合、事前に軸にそった理想回転量とする処理が抜けていたので追加

MlibSample 1.0.0_beta_28
・IK計算ログ出力方法修正
  <pmxモデルディレクトリパス>/IK_step/xxxxx.vmd, xxxxx.log

MlibSample 1.0.0_beta_29
・IK計算ログ改行追加
・初期角度を求めた際に 1e-6 まで一致していたら抜けるよう修正

MlibSample 1.0.0_beta_30
・パッケージ整理
・ビルド時に prod / dev の環境を切り替えられるよう処理追加
　・dev ではない場合、冗長ログ系選択肢そのものを出力しない
・IK冗長ログ追加
　・選択肢として独立
　・break条件時のログを追加

MlibSample 1.0.0_beta_31
・IK計算見直し
　・回転角度の閾値を1e-7に厳格化 (MMDに準拠)
　・移動の閾値チェックをコメントアウト
  ・IK計算時の回転量を最短回転固定（Shorten）にするよう修正

MlibSample 1.0.0_beta_34
・内部処理をすべてOpenGL準拠で計算するよう修正
・物理後ボーン対応
・エッジ対応
・ボーンデバッグを物理結果に沿って描画するよう修正
・法線デバッグ追加
・MSAA適用
・β33でモーフが効かなくなっていたのを修正
　・結果の保持が正しくなかった
・IK計算見直し
　・YZの軸制限に対応（でもまだ不完全かも）
・リファクタリング

MlibSample 1.0.0_beta_35
・IK計算見直し
　・前回と結果が同じだった場合に中断するフラグを復活
　・X軸のみ軸制限がある場合に途中で結果を戻すよう判定追加
　・Z軸の補正はsinで調整するよう修正（こっちの方がマシ）
・照明の向き修正
・リファクタリング

MlibSample 1.0.0_beta_36
・ボーンデバッグ表示を種別で選べるよう機能追加
・対象ボーン追加時の存在チェック追加

MlibSample 1.0.0_beta_37
・エッジの法線取得方法修正
・キーフレ再生時の計算方法修正

MlibSample 1.0.0_beta_38
・物理の重力を10倍に

MlibSample 1.0.0_beta_39
・頂点モーフの並列割り当てをコメントアウト
・フレームドロップON/OFFの表記をONに修正

MlibSample 1.0.0_beta_41
・デバッグログ追加

MlibSample 1.0.0_beta_42
・1F以上描画が進んでいたら、前の時間を現在時間でUpdateするよう修正
　（逆に時間が進んでない場合は前の時間を更新しないよう修正）

MlibSample 1.0.0_beta_43
・エッジ描画修正
・ファイルを投入したタイミングで読み込む様処理変更
・読み込んだ時に描画反映させるよう更新
・描画ウィンドウで矢印キーを押下したときに左右に動くように（メニューウィンドウ側はキーの取得が難しかった）

MlibSample 1.0.0_beta_44
・再生中はリピートするよう機能変更
・付与親が付与し続けられていたので修正（キーフレの回転自体に付与親の値をかけていた）

MlibSample 1.0.0_beta_45
・リファクタリング
　・キーフレにIK計算結果等を追加していたのを、変更データとして外に持って再生が過ぎたらメモリから破棄されるように
・フレームドロップOFFの時に最大0.0333だけ動くように

MlibSample 1.0.0_beta_46
・リファクタリング
　・頂点モーフとボーンモーフの生成をnilのリストからmapに変更
　・画像を読み込んだ後、nilでGC対象に
　・描画ループ時に強制GC

MlibSample 1.0.0_beta_47
　・強制GC削除
　・IKキーフレのON/OFFを参照してIK計算有無を決める

MlibSample 1.0.0_beta_48
・ログの出力先をコンソールに戻した
・IKのON/OFFの読み取りに失敗していたのを修正
・頂点GLデータの生成を修正
・他言語メッセージ追加

MlibSample 1.0.0_beta_49
・vpdの読み込み追加
・ジョイントのパラ調整

MlibSample 1.0.0_beta_50
・FixedTimeStep = 1 / 60.0 に変更（これまでは 1/300）
・キーフレームの進捗を round で（これまでは切り捨て）

MlibSample 1.0.0_beta_51
・exeビルド時にエラーメッセージが出なくなっていたのを修正
・頂点モーフの存在チェックでnilチェックが抜けていたのを修正

MlibSample 1.0.0_beta_52
・キーフレの進み具合がおかしくなっていた（roundかけていた）のを修正
・プレビュー描画時にちょっと処理が空いたときに shoudcloseチェックを行うよう処理追加

MlibSample 1.0.0_beta_53
・SwapBuffers、PollEventsの前後にもshouldcloseチェック追加

MlibSample 1.0.0_beta_54
・walkのメモリリーク改善
　・boxLayout生成時にmapに使わないオブジェクトをkey-valueのvalueに入れていたので、struct{}に変更
　・マップのキーをオブジェクト全体ではなく、小さなキーで持つように変更
　・使い終わったら明示的にnil設定
・Bulletの結果を受け取る btTransform を使い終わったらDeleteするよう修正
・使い終わったら明示的にnil設定

MlibSample 1.0.0_beta_55
・デバッグビルドの時に予期せぬエラーが発生した時のダイアログが出なくなっていたので判定追加
　・スタックトレースの先頭に最終的なエラーメッセージも表示するよう追加
・プレビューウィンドウを最小化したときに描画をスキップするよう処理追加
　・フレームの進捗もスキップして、サイズを戻した時に再開する
・キーフレの進み具合をMMDにあわせた
　・キーフレへの加算時にint切り捨て加算していたのをfloat加算するよう修正（デフォーム時にint切り捨て）
・前のデフォームからフレーム(int)が増えてない場合、前のデフォーム結果を流用するよう修正
・GCの強制解放コメントアウト

MlibSample 1.0.0_beta_56
・メモリリークリファクタリング
　・inverseしたbtTransformのdelete
　・getOpenGLでメモリから取得した mgl32.Mat4 への nil設定

MlibSample 1.0.0_beta_57
・履歴ボタンを二回目に起動した時にエラーになる問題を修正
　・履歴画面でOKの挙動をしたときにダイアログが破棄されているようなので、作り直す
・描画中にプレビューウィンドウを閉じた場合の挙動を修正
　・drawingフラグを追加（windowが破棄されている時にループを抜ける検証条件としてglfw.Windowが使えないので、その外にフラグを持っておく）

MlibSample 1.0.0_beta_58
・プレビューウィンドウを閉じた時にメインウィンドウまで閉じる処理をコメントアウト

MlibSample 1.0.0_beta_59
・プレビューウィンドウを閉じて描画ループを抜けた後、ウィンドウのクローズ処理が二重に走っていたのを削除

MlibSample 1.0.0_beta_60
・Close処理時にメインウィンドうも終了してアプリを終了させるよう修正

MlibSample 1.0.0_beta_61
・IK計算変更
　・IK計算中にIKターゲットにIK計算量を加算していくよう処理追加
・プレビューで再生中に一時停止して前に戻ったときにフレーム数のカウントが出来なくなっていたのを修正
・プレビューで一時停止したときに前キーフレの値を保持できてなかったので修正

MlibSample 1.0.0_beta_62
・IK計算変更
　・角度制限時の軸方向の制限処理を追加
　・角度制限の計算方法を修正
　・残存回転処理を削除

MlibSample 1.0.0_beta_63
・プレビューで再生中に最後のフレームに行った時に前のフレームの値をクリアしておらず、リピート出来ていなかったのを修正
・材質モーフでテクスチャ係数などがnilになる場合があったのを修正

MlibSample 1.0.0_beta_64
・モーフ係数のlerpでtを整数計算していて小数点以下が切り捨てられていたのを修正
・単位角制限でループを回す毎に制限を緩くしていく処理を復活
　・MMDのIK処理にあったけど意味が分かんなかったのでコメントアウトしてた
・一段IKの場合、回転軸を制限された軸ではなく、外積で求めた軸そのものに対してクォータニオンを生成し、そのクォータニオンを行列に変換して軸制限を行うよう処理変更
　・テストの精度はあがったけど、採用するかは要検討

MlibSample 1.0.0_beta_65
1. IKデバッグログの出力方法修正
　・IKグループごとの処理順INDEXを追加(処理される順番にINDEXを振る)
2. 付与親の設定がされている場合、該当ボーンの回転や移動が許可されてなくても付与親の回転と移動は受け継ぐよう判定緩和
3. 計算順を、自身の回転（IK回転を含む）→軸制限→付与親の回転の加算に修正

MlibSample 1.0.0_beta_66
・一段IKで外積はあるけど内積が1.0の場合に単位角度分回すよう判定追加
・移動付与親の時に付与親元に直接移動を加算していたので、コピーした値に加算するよう修正

MlibSample 1.0.0_beta_67
・IK事前計算として、先頭のリンクボーンの向き先をIKがOFFの時の向きに合わせるよう処理追加
・ファイルピッカーの候補拡張子がmapで順不同になってしまうので、順番が固定になるよう修正
・デフォーム時のモーフ変形量の持ち方修正
　・モーフ変形量をキーフレに登録するのではなく、変化量として別途保持してそのまま渡すよう修正
・物理後の付与親ありボーンが暴れていたのを修正
　・物理後のボーン変形行列をデフォーム時に二重に加算していたので、デフォーム対象から物理ボーンを削除
　・デフォーム処理時にだけ二重加算していたので、前と同じフレームだと暴れなかった
・プレビューの60fps制限導入



